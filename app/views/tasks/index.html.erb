<h1>Listing tasks</h1>
<p id="notice"><%= notice %></p>


<table>
  <thead>
    <tr>
      <th>Complete?</th>
      <th>Name</th>
      <th>Deadline</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @tasks.each do |task| %>
      <tr>
        <%= form_for(task) do |f| %>
          <% if task.errors.any? %>
            <div id="error_explanation">
              <h2><%= pluralize(task.errors.count, "error") %> prohibited this task from being saved:</h2>

              <ul>
              <% task.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
              </ul>
            </div>
          <% end %>
          <td><%= f.check_box(:completed) %></td>
          <td><%= link_to task.name, task %></td>
          <td><%= task.deadline %></td>
          <td><%= link_to 'Edit', edit_task_path(task) %></td>
          <td><%= f.submit %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Task', new_task_path %>
